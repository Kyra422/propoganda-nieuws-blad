<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editie #3 - De Dagelijkse Blok</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Libre+Baskerville:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-top">
                <span class="date">20 November 2025</span>
                <span class="edition">Editie #3</span>
                <span class="price">Prijs: 1 Diamond</span>
            </div>
            <h1>DE DAGELIJKSE BLOK</h1>
            <p class="subtitle">HET OFFICIËLE NIEUWS BLAD VAN DE SERVER</p>
            <hr class="header-line">
            <p style="text-align:center;"><a href="index.html">Bekijk het archief &rarr;</a> | <a href="../">Terug naar Home</a></p>
        </header>

        <main>
            <article class="featured">
                <h2>DE MESSIAH IS TERUG!</h2>
                <p class="meta">Geschreven door <span class="author">Ministerie van Goddelijke Zaken</span></p>
                <div class="content">
                    <figure style="margin: 0 0 20px 0;">
                        <img src="../assets/img/messiah.png" alt="De Messiah Kyan10102" style="width: 100%; border: 2px solid #000;">
                        <figcaption style="font-style: italic; font-size: 0.9em; margin-top: 5px;">Foto: De godheid Kyan10102 in volle glorie.</figcaption>
                    </figure>
                    <p><strong>SERVER SPAWN -</strong> Een wonder is geschied! De messiah, beter bekend als <strong>Kyan10102</strong>, is teruggekeerd op de server. Zijn aanwezigheid brengt een ongekende energie met zich mee.</p>
                    <p>Velen beschouwen hem als een god binnen onze wereld. Zijn terugkeer wordt gevierd met vreugde en ontzag. Wat zijn plannen zijn is nog onbekend, maar dat het groots zal zijn staat vast.</p>
                </div>
            </article>

            <div class="columns">
                <article>
                    <h3>Kyra's Kruitvat</h3>
                    <p>Kyra heeft met succes een enorme <strong>Creeper Farm</strong> gebouwd! De productie draait op volle toeren.</p>
                    <p>Heb je buskruit nodig voor vuurwerk of TNT? Kom langs! De prijs is vastgesteld op <strong>1 stack gunpowder voor 5 diamonds</strong>.</p>
                </article>

                <article>
                    <h3>Economie & Meldingen</h3>
                    <p>De toegenomen handel en speculatie vullen de markten. Verwacht nieuwe koopwaar binnenkort.</p>
                </article>
            </div>
            
            <!-- Lokale comment-sectie verwijderd; gedeelde reacties via Utterances hieronder -->

            <!-- Gedeelde reacties via Utterances (GitHub Issues) -->
            <section id="shared-comments" style="margin-top:20px;">
                <h4>Reacties (gedeeld)</h4>
                <div id="utterances_thread"></div>
            </section>
            <script src="https://utteranc.es/client.js"
                repo="Kyra422/propoganda-nieuws-blad"
                issue-term="pathname"
                label="comment"
                theme="github-light"
                crossorigin="anonymous"
                async>
            </script>
        </main>

        <footer>
            <hr>
            <p>&copy; 2025 Kyra. Voor Volk en Vaderland.</p>
        </footer>
    </div>
    <script>
    (function(){
        function $(s, el){ return (el||document).querySelector(s); }
        function $all(s, el){ return Array.from((el||document).querySelectorAll(s)); }
        const container = document.getElementById('comments'); if(!container) return;
        const edition = container.dataset.edition || 'edition';
        const key = 'ddblok_comments_' + edition;
        const usernameIn = $('#c-username', container);
        const textIn = $('#c-text', container);
        const starsEl = $('#c-stars', container);
        const submitBtn = $('#c-submit', container);
        const clearBtn = $('#c-clear', container);
        const listEl = $('#comment-list', container);
        const avgEl = $('#avg-rating', container);
        let selectedRating = 5;
        function load(){ try { return JSON.parse(localStorage.getItem(key) || '[]'); } catch(e){ return []; } }
        function save(arr){ localStorage.setItem(key, JSON.stringify(arr)); }
        function render(){ const comments = load(); listEl.innerHTML = ''; if(comments.length===0){ avgEl.textContent='—'; return; } const avg = (comments.reduce((s,c)=>s+(c.rating||0),0)/comments.length)||0; avgEl.textContent = avg.toFixed(1) + ' ★ ('+comments.length+')'; comments.slice().reverse().forEach(c=>{ const div = document.createElement('div'); div.className='comment'; const meta = document.createElement('div'); meta.className='meta'; meta.textContent = c.username + ' — ' + new Date(c.time).toLocaleString() + ' — ' + (c.rating||0) + '★'; const txt = document.createElement('div'); txt.className='text'; txt.textContent = c.text; div.appendChild(meta); div.appendChild(txt); listEl.appendChild(div); }); }
        function setStars(v){ selectedRating = v; $all('.star', starsEl).forEach(s=>{ const val = Number(s.dataset.value||0); s.classList.toggle('filled', val<=v); }); }
        $all('.star', starsEl).forEach(s=>{ s.addEventListener('click', ()=> setStars(Number(s.dataset.value))); });
        submitBtn.addEventListener('click', ()=>{ const name = (usernameIn.value||'').trim(); const text = (textIn.value||'').trim(); if(!name){ alert('Vul je username in.'); usernameIn.focus(); return; } if(!text){ alert('Schrijf een reactie.'); textIn.focus(); return; } const comments = load(); comments.push({ username: name, text: text, rating: selectedRating, time: Date.now() }); save(comments); usernameIn.value=''; textIn.value=''; setStars(5); render(); });
        clearBtn.addEventListener('click', ()=>{ if(!confirm('Alle reacties lokaal verwijderen?')) return; localStorage.removeItem(key); render(); });
        setStars(5); render();
    })();
    </script>
</body>
</html>